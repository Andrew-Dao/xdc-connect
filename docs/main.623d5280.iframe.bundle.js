(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1061:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(467).configure)([__webpack_require__(1062),__webpack_require__(1063)],module,!1)}).call(this,__webpack_require__(61)(module))},1062:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1062},1063:function(module,exports,__webpack_require__){var map={"./stories/Functioanlity.stories.js":1341,"./stories/Styling.stories.js":1329};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1063},1069:function(module,exports){},1081:function(module,exports){},1099:function(module,exports){},1101:function(module,exports){},1116:function(module,exports){},1117:function(module,exports){},1170:function(module,exports){},1172:function(module,exports){},1205:function(module,exports){},1207:function(module,exports){},1208:function(module,exports){},1213:function(module,exports){},1215:function(module,exports){},1221:function(module,exports){},1223:function(module,exports){},1236:function(module,exports){},1248:function(module,exports){},1251:function(module,exports){},1256:function(module,exports){},1267:function(module,exports){},1276:function(module,exports){},1278:function(module,exports){},1326:function(module,exports,__webpack_require__){},1328:function(module,exports,__webpack_require__){},1329:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"CustomizeButton",(function(){return CustomizeButton})),__webpack_require__.d(__webpack_exports__,"CustomModalTheme",(function(){return CustomModalTheme}));var _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_components__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__(0),__webpack_require__(90)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3);__webpack_exports__.default={title:"XdcConnect/Styling",component:_components__WEBPACK_IMPORTED_MODULE_2__.c};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components__WEBPACK_IMPORTED_MODULE_2__.c,Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},args))},Default=Template.bind({});Default.args={};var CustomizeButton=Template.bind({});CustomizeButton.args={btnName:"Click To Connect",btnClass:"btn btn-warning",disabled:!1};var CustomModalTheme=Template.bind({});CustomModalTheme.args={theme:"dark",btnClass:"btn btn-warning"},Default.parameters=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <XdcConnect {...args} />"}},Default.parameters),CustomizeButton.parameters=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <XdcConnect {...args} />"}},CustomizeButton.parameters),CustomModalTheme.parameters=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"(args) => <XdcConnect {...args} />"}},CustomModalTheme.parameters)},1340:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));var client_api=__webpack_require__(1354),esm=__webpack_require__(7),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},1341:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Listeners",(function(){return Listeners})),__webpack_require__.d(__webpack_exports__,"UsingAPI",(function(){return UsingAPI})),__webpack_require__.d(__webpack_exports__,"SelectiveProviders",(function(){return SelectiveProviders}));var objectSpread2=__webpack_require__(33),slicedToArray=__webpack_require__(103),react=__webpack_require__(0),lib=__webpack_require__(86),src_components=__webpack_require__(90),esm=(__webpack_require__(1328),__webpack_require__(4)),dist_esm=__webpack_require__(680);function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.a,{title:"XdcConnect/Listeners",component:src_components.c,mdxType:"Meta"}),";",Object(esm.b)("h1",{id:"xdc-connect---functionality"},"Xdc Connect - ",Object(esm.b)("inlineCode",{parentName:"h1"},"Functionality")),Object(esm.b)("p",null,"This documentation enlists the various event listeners & interface APIs exported from ",Object(esm.b)("inlineCode",{parentName:"p"},"xdc-connect")),Object(esm.b)("h2",{id:"listeners"},"Listeners"),Object(esm.b)("p",null,"XDC-CONNECT allows user to listen for state changes by providing the listeners as ",Object(esm.b)("inlineCode",{parentName:"p"},"props"),"( ",Object(esm.b)("a",{parentName:"p",href:"#wallet-connect-props"},"1")," ).",Object(esm.b)("br",{parentName:"p"}),"\n","Currently you can listen for the following updates in your component :"),Object(esm.b)("ol",null,Object(esm.b)("li",{parentName:"ol"},"On Wallet Connect - ",Object(esm.b)("inlineCode",{parentName:"li"},"onConnect")),Object(esm.b)("li",{parentName:"ol"},"On Wallet Disconnect - ",Object(esm.b)("inlineCode",{parentName:"li"},"onDisconnect")),Object(esm.b)("li",{parentName:"ol"},"On Address Change - ",Object(esm.b)("inlineCode",{parentName:"li"},"onAddressChange"))),Object(esm.b)("p",null,"Each listener will be called with a parameter of ",Object(esm.b)("inlineCode",{parentName:"p"},"wallet")," ( ",Object(esm.b)("a",{parentName:"p",href:"#wallet-object"},"2")," ) which represents the state of the connected xdc wallet post the event trigger."),Object(esm.b)("h3",{id:"on-connect"},"On Connect"),Object(esm.b)("p",null,"Event is triggered when any of the loader successfully connects with application. The listener willl be called with an ",Object(esm.b)("inlineCode",{parentName:"p"},"wallet")," ( ",Object(esm.b)("a",{parentName:"p",href:"#wallet-object"},"2")," ) object."),Object(esm.b)("h3",{id:"on-disconnect"},"On Disconnect"),Object(esm.b)("p",null,"Event is triggered when any of the loader successfully disconnects with application. The listener willl be called with an ",Object(esm.b)("inlineCode",{parentName:"p"},"wallet")," ( ",Object(esm.b)("a",{parentName:"p",href:"#wallet-object"},"2")," ) object."),Object(esm.b)("h3",{id:"on-address-change"},"On Address Change"),Object(esm.b)("p",null,"Event is triggered when any of the loader changes the default ",Object(esm.b)("strong",{parentName:"p"},"XDC")," address. The listener willl be called with an ",Object(esm.b)("inlineCode",{parentName:"p"},"wallet")," ( ",Object(esm.b)("a",{parentName:"p",href:"#wallet-object"},"2")," ) object."),Object(esm.b)("h2",{id:"apis"},"APIs"),Object(esm.b)("ol",null,Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("strong",{parentName:"li"},"GetWallet")," - returns promise which will resolve into ",Object(esm.b)("inlineCode",{parentName:"li"},"wallet")," ( ",Object(esm.b)("a",{parentName:"li",href:"#wallet-object"},"2")," ) object."),Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("strong",{parentName:"li"},"GetNativeBalance")," - returns promise which will resolve into xdc balance."),Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("strong",{parentName:"li"},"SendTransaction")," - returns promise which will resolve into xdc3 ",Object(esm.b)("inlineCode",{parentName:"li"},"receipt")," ( ",Object(esm.b)("a",{parentName:"li",href:"#transaction-receipt-object"},"3")," ) for the transaction."),Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("strong",{parentName:"li"},"CallTransaction")," - returns promise which will resolve into response for the transaction."),Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("strong",{parentName:"li"},"Disconnect")," - disconnect the app with user's wallet provider.")),Object(esm.b)("h2",{id:"examples"},"Examples"),Object(esm.b)("h3",{id:"onconnect"},"OnConnect"),Object(esm.b)("p",null,"Fired when user successfully connects their wallet. It passed an updated instance of user's wallet."),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre"},'import React from "react";\nimport { XdcConnect } from "xdc-connect";\nimport "./App.css";\nfunction App() {\n  return (\n    <div className="App">\n      <XdcConnect\n        btnClass="btn btn-rounded btn-success"\n        btnName="Custom Text"\n        onConnect={(wallet) => {\n          console.log("user connected wallet", wallet);\n        }}\n      />\n    </div>\n  );\n}\nexport default App\n')),Object(esm.b)("h3",{id:"ondisconnect"},"onDisconnect"),Object(esm.b)("p",null,"Fired when user successfully logouts/disconnects their wallet."),Object(esm.b)("h3",{id:"onaddresschange"},"onAddressChange"),Object(esm.b)("p",null,"Fired when user changes their default address from providers like XinPay / XDCPay."),Object(esm.b)("h2",{id:"apis-1"},"APIs"),Object(esm.b)("p",null,"The library also exposes APIs to interact with the wallet provider which are as follows:"),Object(esm.b)("ol",null,Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("p",{parentName:"li"},Object(esm.b)("strong",{parentName:"p"},"GetWallet"),Object(esm.b)("br",{parentName:"p"}),"\n","Returns ",Object(esm.b)("inlineCode",{parentName:"p"},"promise")," which will resolve into ",Object(esm.b)("inlineCode",{parentName:"p"},"wallet")," ( ",Object(esm.b)("a",{parentName:"p",href:"#wallet-object"},"2")," ) object.")),Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("p",{parentName:"li"},Object(esm.b)("strong",{parentName:"p"},"GetNativeBalance"),Object(esm.b)("br",{parentName:"p"}),"\n","Returns ",Object(esm.b)("inlineCode",{parentName:"p"},"promise")," which will resolve into xdc ( native crypto currency ) balance.")),Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("p",{parentName:"li"},Object(esm.b)("strong",{parentName:"p"},"SendTransaction"),Object(esm.b)("br",{parentName:"p"}),"\n","This function can be used to make ",Object(esm.b)("inlineCode",{parentName:"p"},"PAYABLE")," & ",Object(esm.b)("inlineCode",{parentName:"p"},"NONPAYBLE")," state changing transactions.  This function needs to be invoded with a standard ",Object(esm.b)("inlineCode",{parentName:"p"},"web3 transaction object")," ( ",Object(esm.b)("a",{parentName:"p",href:"#transaction-object"},"4")," ).",Object(esm.b)("br",{parentName:"p"}),"\n","Returns ",Object(esm.b)("inlineCode",{parentName:"p"},"promise")," which will resolve into xdc3 ",Object(esm.b)("inlineCode",{parentName:"p"},"receipt")," ( ",Object(esm.b)("a",{parentName:"p",href:"#transaction-receipt-object"},"3")," ) for the transaction.\nThe receipt is a standard ",Object(esm.b)("inlineCode",{parentName:"p"},"web3 receipt object"),".")),Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("p",{parentName:"li"},Object(esm.b)("strong",{parentName:"p"},"CallTransaction"),Object(esm.b)("br",{parentName:"p"}),"\n","This function needs to be invoded with a standard ",Object(esm.b)("inlineCode",{parentName:"p"},"web3 transaction object")," ( ",Object(esm.b)("a",{parentName:"p",href:"#transaction-object"},"4")," ).",Object(esm.b)("br",{parentName:"p"}),"\n","Returns ",Object(esm.b)("inlineCode",{parentName:"p"},"promise")," which will resolve into response for the transaction.",Object(esm.b)("br",{parentName:"p"}),"\n","The response will be ",Object(esm.b)("inlineCode",{parentName:"p"},"hex")," encoded and can de decoded by providing the type of expected response by calling the following function:"),Object(esm.b)("pre",{parentName:"li"},Object(esm.b)("code",{parentName:"pre"},'  const decoded = xdc3.eth.abi.decodeParameter("string", encodedHex); // here "string" is the type of parameter\n'))),Object(esm.b)("li",{parentName:"ol"},Object(esm.b)("p",{parentName:"li"},Object(esm.b)("strong",{parentName:"p"},"Disconnect"),Object(esm.b)("br",{parentName:"p"}),"\n","Disconnect the app with user's wallet provider."))),Object(esm.b)("h3",{id:"example"},"Example"),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre"},'\nimport React, { useState } from "react";\nimport { XdcConnect, Disconnect } from "xdc-connect";\nimport "./App.css";\nfunction App() {\n  const [wallet, setwallet] = useState({});\nconsole.log("wallet", wallet);\nreturn (\n    <div className="App">\n      <XdcConnect\n        btnClass={\n          wallet.connected\n            ? "btn btn-rounded btn-success"\n            : "btn btn-rounded btn-warning"\n        }\n        btnName={wallet.connected ? "CONNECTED" : "CONNECT"}\n        onConnect={(wallet) => {\n          console.log("user connected wallet", wallet);\n          setwallet(wallet);\n        }}\n        onDisconnect={(wallet) => {\n          console.log("user connected disconnect", wallet);\n          setwallet(wallet);props\n        }}\n      />\n      {wallet.connected ? <button onClick={Disconnect}>Logout</button> : ""}\n    </div>\n  );\n}\nexport default App;\n\n')),Object(esm.b)("h2",{id:"interfaces"},"Interfaces"),Object(esm.b)("p",null,"List of interfaces of objects used in props & function arguments."),Object(esm.b)("h3",{id:"wallet-connect-props"},"Wallet Connect props"),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre"},'\n    export type themes = "light" | "dark"\n\n    export type validChainId = 50 | 51 | 551\n\n    export type ValidProvider = "xinpay" | "keystore" | "privatekey" | "dcent-inapp"\n\n    export interface WalletConnectProps {\n      onDisconnect?: (wallet: Wallet) => any\n      onConnect?: (wallet: Wallet) => any\n      onAddressChange?: (wallet: Wallet) => any\n      onNetworkChange?: (wallet: Wallet) => any\n      showButton?: boolean\n      modalBackdrop?: boolean\n      btnClass?: string\n      btnName?: string\n      theme?: themes\n      disabled?: boolean\n      defaultChainId?: validChainId\n      enabledProviders?: ValidProvider[]\n      displayType?: DisplayType,\n      addToastContainer?: boolean,\n      toastContainer?: any;\n      rpcProvider?: string;\n      wsProvider?: string;\n    }\n\n')),Object(esm.b)("h3",{id:"wallet-object"},"Wallet Object"),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre"},"  interface Wallet {\n    connected: Boolean;\n    address: string;\n    chain_id: number;\n    valid_network: Boolean;\n    explorer: string;\n    rpc_provider: string;\n    ws_provider: string;\n    loader: string;\n    account: null;\n  }\n")),Object(esm.b)("h3",{id:"transaction-object"},"Transaction Object"),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre"},"     interface Transaction {\n       hash: string;\n       nonce: number;\n       blockHash: string | null;\n       blockNumber: number | null;\n       transactionIndex: number | null;\n       from: string;\n       to: string | null;\n       value: string;\n       gasPrice: string;\n       gas: number;\n       input: string;\n     }\n")),Object(esm.b)("h3",{id:"transaction-receipt-object"},"Transaction Receipt Object"),Object(esm.b)("pre",null,Object(esm.b)("code",{parentName:"pre"},"  interface TransactionReceipt {\n      status: boolean;\n      transactionHash: string;\n      transactionIndex: number;\n      blockHash: string;\n      blockNumber: number;\n      from: string;\n      to: string;\n      contractAddress?: string;\n      cumulativeGasUsed: number;\n      gasUsed: number;\n      logs: Log[];\n      logsBloom: string;\n      events?: {\n          [eventName: string]: EventLog;\n      };\n  }\n")))}MDXContent.isMDXComponent=!0;var jsx_runtime=__webpack_require__(3);__webpack_exports__.default={title:"XdcConnect/Functionality",component:src_components.c,parameters:{docs:{page:MDXContent,source:{type:"code"}}}};function RenderWallet(wallet){return Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsxs)("table",{children:[Object(jsx_runtime.jsxs)("tr",{children:[Object(jsx_runtime.jsx)("td",{children:"address"}),Object(jsx_runtime.jsx)("td",{children:Object(lib.toXdcAddress)(wallet.address)})]}),Object(jsx_runtime.jsxs)("tr",{children:[Object(jsx_runtime.jsx)("td",{children:"connected"}),Object(jsx_runtime.jsx)("td",{children:"".concat(wallet.connected)})]}),Object(jsx_runtime.jsxs)("tr",{children:[Object(jsx_runtime.jsx)("td",{children:"chain_id"}),Object(jsx_runtime.jsx)("td",{children:wallet.chain_id})]}),Object(jsx_runtime.jsxs)("tr",{children:[Object(jsx_runtime.jsx)("td",{children:"valid_network"}),Object(jsx_runtime.jsx)("td",{children:"".concat(wallet.valid_network)})]}),Object(jsx_runtime.jsxs)("tr",{children:[Object(jsx_runtime.jsx)("td",{children:"explorer"}),Object(jsx_runtime.jsx)("td",{children:wallet.explorer})]}),Object(jsx_runtime.jsxs)("tr",{children:[Object(jsx_runtime.jsx)("td",{children:"rpc_provider"}),Object(jsx_runtime.jsx)("td",{children:wallet.rpc_provider})]}),Object(jsx_runtime.jsxs)("tr",{children:[Object(jsx_runtime.jsx)("td",{children:"loader"}),Object(jsx_runtime.jsx)("td",{children:wallet.loader})]}),Object(jsx_runtime.jsxs)("tr",{children:[Object(jsx_runtime.jsx)("td",{children:"account"}),Object(jsx_runtime.jsx)("td",{children:wallet.account})]})]})})}var Listeners=function Template(events){var _useState=Object(react.useState)("Connect"),_useState2=Object(slicedToArray.a)(_useState,2),btnText=_useState2[0],setbtnText=_useState2[1],_useState3=Object(react.useState)("btn btn-warning"),_useState4=Object(slicedToArray.a)(_useState3,2),btnClass=_useState4[0],setbtnClass=_useState4[1],_useState5=Object(react.useState)(Object(src_components.b)()),_useState6=Object(slicedToArray.a)(_useState5,2),wallet=_useState6[0],setWallet=_useState6[1];return Object(react.useEffect)((function(){Object(src_components.a)()})),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(src_components.c,{onConnect:function onConnect(wallet){setbtnText("conneected !"),setbtnClass("btn btn-success"),setWallet(wallet),events.onConnect&&events.onConnect(wallet)},btnName:btnText,btnClass:btnClass}),wallet.connected?RenderWallet(wallet):""]})}.bind({});Listeners.args={onConnect:function onConnect(wallet){return console.log("connected",wallet)}};var UsingAPI=function Template2(){var _useState7=Object(react.useState)({}),_useState8=Object(slicedToArray.a)(_useState7,2),wallet=_useState8[0],setwallet=_useState8[1];return console.log("wallet",wallet),Object(jsx_runtime.jsxs)("div",{className:"App",children:[Object(jsx_runtime.jsx)(src_components.c,{btnClass:wallet.connected?"btn btn-rounded btn-success":"btn btn-rounded btn-warning",btnName:wallet.connected?"CONNECTED":"CONNECT",onConnect:function onConnect(wallet){console.log("user connected wallet",wallet),setwallet(wallet)},onDisconnect:function onDisconnect(wallet){console.log("user connected disconnect",wallet),setwallet(wallet)}}),wallet.connected?Object(jsx_runtime.jsx)("button",{onClick:src_components.a,children:"Logout"}):""]})}.bind({}),SelectiveProviders=function Template3(props){var _useState9=Object(react.useState)({}),_useState10=Object(slicedToArray.a)(_useState9,2),wallet=_useState10[0];_useState10[1];return Object(jsx_runtime.jsxs)("div",{className:"App",children:[Object(jsx_runtime.jsx)(src_components.c,Object(objectSpread2.a)({},props)),wallet.connected?Object(jsx_runtime.jsx)("button",{onClick:src_components.a,children:"Logout"}):""]})}.bind({});SelectiveProviders.args={enabledProviders:["xinpay","dcent-inapp","privatekey","keystore"]},Listeners.parameters=Object(objectSpread2.a)({storySource:{source:'(events) => {\n  const [btnText, setbtnText] = useState("Connect");\n  const [btnClass, setbtnClass] = useState("btn btn-warning");\n  const [wallet, setWallet] = useState(GetWallet());\n\n  useEffect(() => {\n    Disconnect();\n  });\n\n  return (\n    <div>\n      <XdcConnect\n        onConnect={(wallet) => {\n          setbtnText("conneected !");\n          setbtnClass("btn btn-success");\n          setWallet(wallet);\n\n          events.onConnect && events.onConnect(wallet);\n        }}\n        btnName={btnText}\n        btnClass={btnClass}\n      />\n\n      {wallet.connected ? RenderWallet(wallet) : ""}\n    </div>\n  );\n}'}},Listeners.parameters),UsingAPI.parameters=Object(objectSpread2.a)({storySource:{source:'() => {\n  const [wallet, setwallet] = useState({});\n\n  console.log("wallet", wallet);\n\n  return (\n    <div className="App">\n      <XdcConnect\n        btnClass={\n          wallet.connected\n            ? "btn btn-rounded btn-success"\n            : "btn btn-rounded btn-warning"\n        }\n        btnName={wallet.connected ? "CONNECTED" : "CONNECT"}\n        onConnect={(wallet) => {\n          console.log("user connected wallet", wallet);\n          setwallet(wallet);\n        }}\n        onDisconnect={(wallet) => {\n          console.log("user connected disconnect", wallet);\n          setwallet(wallet);\n        }}\n      />\n      {wallet.connected ? <button onClick={Disconnect}>Logout</button> : ""}\n    </div>\n  );\n}'}},UsingAPI.parameters),SelectiveProviders.parameters=Object(objectSpread2.a)({storySource:{source:'(props) => {\n  const [wallet, setwallet] = useState({});\n\n  return (\n    <div className="App">\n      <XdcConnect {...props} />\n      {wallet.connected ? <button onClick={Disconnect}>Logout</button> : ""}\n    </div>\n  );\n}'}},SelectiveProviders.parameters)},241:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(Buffer){__webpack_require__.d(__webpack_exports__,"IsXdc3Supported",(function(){return IsXdc3Supported})),__webpack_require__.d(__webpack_exports__,"GetProvider",(function(){return GetProvider})),__webpack_require__.d(__webpack_exports__,"MainnetProvider",(function(){return MainnetProvider})),__webpack_require__.d(__webpack_exports__,"ApothemProvider",(function(){return ApothemProvider})),__webpack_require__.d(__webpack_exports__,"GetChainId",(function(){return GetChainId})),__webpack_require__.d(__webpack_exports__,"initXdc3",(function(){return initXdc3})),__webpack_require__.d(__webpack_exports__,"_initListerner",(function(){return _initListerner})),__webpack_require__.d(__webpack_exports__,"GetCurrentProvider",(function(){return GetCurrentProvider})),__webpack_require__.d(__webpack_exports__,"GetNativeBalance",(function(){return GetNativeBalance})),__webpack_require__.d(__webpack_exports__,"SendTransaction",(function(){return SendTransaction})),__webpack_require__.d(__webpack_exports__,"CallTransaction",(function(){return CallTransaction})),__webpack_require__.d(__webpack_exports__,"IsLocked",(function(){return IsLocked}));var addresses,xdc3,addressChangeIntervalRef,_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19),_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(49),xdc3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57),xdc3__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(xdc3__WEBPACK_IMPORTED_MODULE_3__),_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(304),_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_4__),lodash__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(113),lodash__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__),_helpers_crypto__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(67),_helpers_constant__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(40),_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(48),_redux_store__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(41),react_toastify__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(72),_helpers_miscellaneous__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(678),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(3);function IsXdc3Supported(){return Boolean(window.ethereum)}function GetProvider(){return _GetProvider.apply(this,arguments)}function _GetProvider(){return(_GetProvider=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee5(){var provider;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_4___default()();case 2:return provider=_context5.sent,_context5.abrupt("return",provider);case 4:case"end":return _context5.stop()}}),_callee5)})))).apply(this,arguments)}var MainnetProvider=function MainnetProvider(){return new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a.providers.HttpProvider(_helpers_constant__WEBPACK_IMPORTED_MODULE_7__.HTTP_PROVIDER[50])},ApothemProvider=function ApothemProvider(){return new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a.providers.HttpProvider(_helpers_constant__WEBPACK_IMPORTED_MODULE_7__.HTTP_PROVIDER[50])};function GetChainId(){return _GetChainId.apply(this,arguments)}function _GetChainId(){return _GetChainId=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee6(){var xdc3;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.t0=xdc3__WEBPACK_IMPORTED_MODULE_3___default.a,_context6.next=3,GetProvider();case 3:return _context6.t1=_context6.sent,xdc3=new _context6.t0(_context6.t1),_context6.next=7,xdc3.eth.net.getId();case 7:return _context6.abrupt("return",_context6.sent);case 8:case"end":return _context6.stop()}}),_callee6)}))),_GetChainId.apply(this,arguments)}function initXdc3(){return _initXdc.apply(this,arguments)}function _initXdc(){return(_initXdc=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee7(){var currentProvider,provider,accounts,chain_id;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(_context7.prev=0,window.ethereum){_context7.next=4;break}return Object(react_toastify__WEBPACK_IMPORTED_MODULE_10__.b)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{children:["XDCPay not available in the browser. Please refer"," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("a",{href:"https://chrome.google.com/webstore/detail/xdcpay/bocpokimicclpaiekenaeelehdjllofo?hl=en",children:"here"})]}),{autoClose:!1}),_context7.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletDisconnected()));case 4:return _context7.next=6,GetCurrentProvider();case 6:if("metamask"!==(currentProvider=_context7.sent)){_context7.next=10;break}return Object(react_toastify__WEBPACK_IMPORTED_MODULE_10__.b)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{children:["Metamask detected. Please disable Metamask & install"," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("a",{href:"https://chrome.google.com/webstore/detail/xdcpay/bocpokimicclpaiekenaeelehdjllofo?hl=en",children:"XDCPay"}),"."]}),{autoClose:!1}),_context7.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletDisconnected()));case 10:if("xinpay"===currentProvider){_context7.next=13;break}return Object(react_toastify__WEBPACK_IMPORTED_MODULE_10__.b)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{children:["XDCPay not available in the browser. Please refer"," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("a",{href:"https://chrome.google.com/webstore/detail/xdcpay/bocpokimicclpaiekenaeelehdjllofo?hl=en",children:"here"})]}),{autoClose:!1}),_context7.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletDisconnected()));case 13:return _context7.next=15,Object(_helpers_miscellaneous__WEBPACK_IMPORTED_MODULE_11__.a)(IsLocked,2e3);case 15:if(!0!==_context7.sent){_context7.next=19;break}return Object(react_toastify__WEBPACK_IMPORTED_MODULE_10__.b)("Please unlock XDCPay wallet to continue",{autoClose:2e3}),_context7.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletDisconnected()));case 19:return _context7.next=21,GetCurrentProvider();case 21:if(_context7.t0=_context7.sent,"xinpay"===_context7.t0){_context7.next=25;break}return Object(react_toastify__WEBPACK_IMPORTED_MODULE_10__.b)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{children:["XDCPay not available in the browser. Please refer"," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("a",{href:"https://chrome.google.com/webstore/detail/xdcpay/bocpokimicclpaiekenaeelehdjllofo?hl=en",children:"here"})]}),{autoClose:!1}),_context7.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletDisconnected()));case 25:return _context7.next=27,window.ethereum.enable();case 27:return _initListerner(),_context7.next=30,GetProvider();case 30:return provider=_context7.sent,xdc3=new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a(provider),_context7.next=34,xdc3.eth.getAccounts();case 34:return accounts=_context7.sent,addresses=accounts,_context7.next=38,xdc3.eth.getChainId();case 38:return chain_id=_context7.sent,_context7.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletConnected({address:accounts[0],chain_id:chain_id,loader:_helpers_constant__WEBPACK_IMPORTED_MODULE_7__.LOADERS.Xinpay,explorer:_helpers_constant__WEBPACK_IMPORTED_MODULE_7__.CHAIN_DATA[chain_id]})));case 42:if(_context7.prev=42,_context7.t1=_context7.catch(0),"timeout"!==_context7.t1){_context7.next=47;break}return Object(react_toastify__WEBPACK_IMPORTED_MODULE_10__.b)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{children:"Error while connecting to XDCPay: Timeout. Please check your XDCPay or try after refresh."}),{autoClose:!1}),_context7.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletDisconnected()));case 47:return Object(react_toastify__WEBPACK_IMPORTED_MODULE_10__.b)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{children:"Error while connecting to XDCPay provider"}),{autoClose:!1}),_context7.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletDisconnected()));case 49:case"end":return _context7.stop()}}),_callee7,null,[[0,42]])})))).apply(this,arguments)}function _initListerner(){window.ethereum.removeAllListeners(),addressChangeIntervalRef&&clearInterval(addressChangeIntervalRef),addressChangeIntervalRef=setInterval(Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(){var accounts;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,xdc3.eth.getAccounts();case 2:if(accounts=_context.sent,!lodash__WEBPACK_IMPORTED_MODULE_5___default.a.isEqual(accounts,addresses)){_context.next=5;break}return _context.abrupt("return");case 5:console.log("accounts",accounts),addresses=accounts,_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.AccountChanged(accounts[0]));case 8:case"end":return _context.stop()}}),_callee)}))),1e3),window.ethereum.on("accountsChanged",function(){var _ref2=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(data){var accounts;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,xdc3.eth.getAccounts();case 2:accounts=_context2.sent,console.log("accounts",accounts),addresses=accounts,_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.AccountChanged(accounts[0]));case 6:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref2.apply(this,arguments)}}()),window.ethereum.on("chainChanged",function(){var _ref3=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee3(data){var chain_id;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,xdc3.eth.getChainId();case 2:chain_id=_context3.sent,_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.NetworkChanged(chain_id));case 4:case"end":return _context3.stop()}}),_callee3)})));return function(_x2){return _ref3.apply(this,arguments)}}()),window.ethereum.on("connect",function(){var _ref4=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee4(data){var accounts,chain_id;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.t0=xdc3__WEBPACK_IMPORTED_MODULE_3___default.a,_context4.next=3,GetProvider();case 3:return _context4.t1=_context4.sent,xdc3=new _context4.t0(_context4.t1),_context4.next=7,xdc3.eth.getAccounts();case 7:return accounts=_context4.sent,_context4.next=10,xdc3.eth.getChainId();case 10:return chain_id=_context4.sent,addresses=accounts,_context4.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletConnected({address:accounts[0],chain_id:chain_id,loader:_helpers_constant__WEBPACK_IMPORTED_MODULE_7__.LOADERS.Xinpay,explorer:_helpers_constant__WEBPACK_IMPORTED_MODULE_7__.CHAIN_DATA[chain_id]})));case 13:case"end":return _context4.stop()}}),_callee4)})));return function(_x3){return _ref4.apply(this,arguments)}}()),window.ethereum.on("disconnect",(function(data){return console.log("disconnect",data),_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletDisconnected())})),window.ethereum.on("message",(function(data){console.log("message",data)}))}function GetCurrentProvider(){return _GetCurrentProvider.apply(this,arguments)}function _GetCurrentProvider(){return(_GetCurrentProvider=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee8(){var chainId;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(!0===IsXdc3Supported()){_context8.next=2;break}return _context8.abrupt("return",null);case 2:if(!window.web3.currentProvider.isMetaMask){_context8.next=9;break}return _context8.next=5,GetChainId();case 5:if(chainId=_context8.sent,![50,51,551].includes(chainId)){_context8.next=8;break}return _context8.abrupt("return","xinpay");case 8:return _context8.abrupt("return","metamask");case 9:if(!window.web3.currentProvider.isTrust){_context8.next=11;break}return _context8.abrupt("return","trust");case 11:if(!window.web3.currentProvider.isStatus){_context8.next=13;break}return _context8.abrupt("return","status");case 13:if(void 0===window.SOFA){_context8.next=15;break}return _context8.abrupt("return","coinbase");case 15:if(void 0===window.__CIPHER__){_context8.next=17;break}return _context8.abrupt("return","cipher");case 17:if("EthereumProvider"!==window.web3.currentProvider.constructor.name){_context8.next=19;break}return _context8.abrupt("return","mist");case 19:if("Xdc3FrameProvider"!==window.web3.currentProvider.constructor.name){_context8.next=21;break}return _context8.abrupt("return","parity");case 21:if(!window.web3.currentProvider.host||-1===window.web3.currentProvider.host.indexOf("infura")){_context8.next=23;break}return _context8.abrupt("return","infura");case 23:if(!window.web3.currentProvider.host||-1===window.web3.currentProvider.host.indexOf("localhost")){_context8.next=25;break}return _context8.abrupt("return","localhost");case 25:return _context8.abrupt("return","unknown");case 26:case"end":return _context8.stop()}}),_callee8)})))).apply(this,arguments)}var GetNativeBalance=function GetNativeBalance(address){return new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a(window.web3.currentProvider).eth.getBalance(address)};function SendTransaction(_x4){return _SendTransaction.apply(this,arguments)}function _SendTransaction(){return _SendTransaction=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee11(tx){var _arguments=arguments;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.abrupt("return",new Promise((function(resolve,reject){GetProvider().then(function(){var _ref5=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee10(provider){var xdc3,gasLimit,reason;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return xdc3=new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a(provider),_context10.prev=1,_context10.next=4,xdc3.eth.estimateGas(tx);case 4:gasLimit=_context10.sent,_context10.next=14;break;case 7:return _context10.prev=7,_context10.t0=_context10.catch(1),_context10.next=11,Object(_helpers_crypto__WEBPACK_IMPORTED_MODULE_6__.d)(tx);case 11:return reason=_context10.sent,reject({message:reason}),_context10.abrupt("return");case 14:tx.gas=gasLimit,xdc3.eth.sendTransaction(tx,(function(err,hash){err&&reject(err);var interval=setInterval(Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee9(){var receipt;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.prev=0,_context9.next=3,xdc3.eth.getTransactionReceipt(hash);case 3:null!==(receipt=_context9.sent)&&(receipt.status?(clearInterval(interval),resolve(receipt)):(clearInterval(interval),xdc3.eth.getTransaction(receipt.transactionHash).then((function(tx){tx=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},tx),xdc3.eth.call(tx).then((function(x){var other=x.replace("0x","").slice(8),buf=Buffer.from(other,"hex");reject({message:buf.toString()})})).catch((function(){return reject({message:"Transaction Failed"})}))})))),_context9.next=11;break;case 7:_context9.prev=7,_context9.t0=_context9.catch(0),clearInterval(interval),reject(_context9.t0);case 11:case"end":return _context9.stop()}}),_callee9,null,[[0,7]])}))),2e3)}));case 16:case"end":return _context10.stop()}}),_callee10,null,[[1,7]])})));return function(_x6){return _ref5.apply(this,arguments)}}()).catch((function(e){console.log(_arguments,e),console.log("resp",Object(_helpers_crypto__WEBPACK_IMPORTED_MODULE_6__.e)(e)),console.log("resp",e),reject(e)}))})));case 1:case"end":return _context11.stop()}}),_callee11)}))),_SendTransaction.apply(this,arguments)}function CallTransaction(_x5){return _CallTransaction.apply(this,arguments)}function _CallTransaction(){return _CallTransaction=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee13(tx){var _arguments2=arguments;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.abrupt("return",new Promise((function(resolve,reject){GetProvider().then(function(){var _ref7=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee12(provider){var xdc3,gasLimit,reason;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return xdc3=new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a(provider),_context12.prev=1,_context12.next=4,xdc3.eth.estimateGas(tx);case 4:gasLimit=_context12.sent,_context12.next=14;break;case 7:return _context12.prev=7,_context12.t0=_context12.catch(1),_context12.next=11,Object(_helpers_crypto__WEBPACK_IMPORTED_MODULE_6__.d)(tx);case 11:return reason=_context12.sent,reject({message:reason}),_context12.abrupt("return");case 14:tx.gas=gasLimit,xdc3.eth.call(tx).then((function(date){resolve(date)})).catch((function(e){return reject(e)}));case 16:case"end":return _context12.stop()}}),_callee12,null,[[1,7]])})));return function(_x7){return _ref7.apply(this,arguments)}}()).catch((function(e){console.log(_arguments2,e),console.log("resp",Object(_helpers_crypto__WEBPACK_IMPORTED_MODULE_6__.e)(e)),console.log("resp",e),reject(e)}))})));case 1:case"end":return _context13.stop()}}),_callee13)}))),_CallTransaction.apply(this,arguments)}function IsLocked(){return _IsLocked.apply(this,arguments)}function _IsLocked(){return _IsLocked=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee14(){var xdc3,accounts;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.t0=xdc3__WEBPACK_IMPORTED_MODULE_3___default.a,_context14.next=3,GetProvider();case 3:return _context14.t1=_context14.sent,xdc3=new _context14.t0(_context14.t1),_context14.next=7,xdc3.eth.getAccounts();case 7:return accounts=_context14.sent,_context14.abrupt("return",lodash__WEBPACK_IMPORTED_MODULE_5___default.a.isEmpty(accounts));case 9:case"end":return _context14.stop()}}),_callee14)}))),_IsLocked.apply(this,arguments)}}.call(this,__webpack_require__(10).Buffer)},305:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(Buffer){__webpack_require__.d(__webpack_exports__,"DcentSupported",(function(){return DcentSupported})),__webpack_require__.d(__webpack_exports__,"GetChainId",(function(){return GetChainId})),__webpack_require__.d(__webpack_exports__,"GetProvider",(function(){return GetProvider})),__webpack_require__.d(__webpack_exports__,"initDcent",(function(){return initDcent})),__webpack_require__.d(__webpack_exports__,"_initListerner",(function(){return _initListerner})),__webpack_require__.d(__webpack_exports__,"SendTransaction",(function(){return SendTransaction})),__webpack_require__.d(__webpack_exports__,"CallTransaction",(function(){return CallTransaction}));var xdc3,_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19),_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(49),xdc3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57),xdc3__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(xdc3__WEBPACK_IMPORTED_MODULE_3__),_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(304),_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_4__),react_toastify__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(72),_helpers_constant__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(40),_helpers_crypto__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(67),_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(48),_redux_store__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(41),DcentSupported=function DcentSupported(){return window.ethereum&&!0===window.ethereum.isDcentWallet},GetChainId=function GetChainId(){return window.ethereum.request({method:"net_version"})};function GetProvider(){return _GetProvider.apply(this,arguments)}function _GetProvider(){return(_GetProvider=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee5(){var provider;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_4___default()();case 2:return provider=_context5.sent,_context5.abrupt("return",provider);case 4:case"end":return _context5.stop()}}),_callee5)})))).apply(this,arguments)}var initDcent=function(){var _ref=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(){var chain_id,accounts;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,DcentSupported()){_context.next=5;break}return Object(react_toastify__WEBPACK_IMPORTED_MODULE_5__.b)("Browser doesn't support DCent wallet, please open in In-App Browser of DCent"),_context.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletDisconnected()));case 5:return _context.next=7,window.ethereum.request({method:"eth_requestAccounts"});case 7:return _context.t0=xdc3__WEBPACK_IMPORTED_MODULE_3___default.a,_context.next=10,GetProvider();case 10:return _context.t1=_context.sent,xdc3=new _context.t0(_context.t1),_initListerner(),_context.next=15,xdc3.eth.getChainId();case 15:return chain_id=_context.sent,_context.next=18,xdc3.eth.getAccounts();case 18:return accounts=_context.sent,console.log("chain_id",chain_id,accounts),_context.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletConnected({address:accounts[0],chain_id:chain_id,loader:_helpers_constant__WEBPACK_IMPORTED_MODULE_6__.LOADERS.DcentInApp,explorer:_helpers_constant__WEBPACK_IMPORTED_MODULE_6__.CHAIN_DATA[chain_id]})));case 23:_context.prev=23,_context.t2=_context.catch(0),console.log(_context.t2);case 26:case"end":return _context.stop()}}),_callee,null,[[0,23]])})));return function initDcent(){return _ref.apply(this,arguments)}}();function _initListerner(){window.ethereum.removeAllListeners(),window.ethereum.on("accountsChanged",function(){var _ref2=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(data){var accounts;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,xdc3.eth.getAccounts();case 2:accounts=_context2.sent,_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.AccountChanged(accounts[0]));case 4:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref2.apply(this,arguments)}}()),window.ethereum.on("chainChanged",function(){var _ref3=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee3(data){var chain_id;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,xdc3.eth.getChainId();case 2:chain_id=_context3.sent,_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.NetworkChanged(chain_id));case 4:case"end":return _context3.stop()}}),_callee3)})));return function(_x2){return _ref3.apply(this,arguments)}}()),window.ethereum.on("connect",function(){var _ref4=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee4(data){var accounts,chain_id;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.t0=xdc3__WEBPACK_IMPORTED_MODULE_3___default.a,_context4.next=3,GetProvider();case 3:return _context4.t1=_context4.sent,xdc3=new _context4.t0(_context4.t1),_context4.next=7,xdc3.eth.getAccounts();case 7:return accounts=_context4.sent,_context4.next=10,xdc3.eth.getChainId();case 10:return chain_id=_context4.sent,_context4.abrupt("return",_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletConnected({address:accounts[0],chain_id:chain_id,loader:_helpers_constant__WEBPACK_IMPORTED_MODULE_6__.LOADERS.DcentInApp,explorer:_helpers_constant__WEBPACK_IMPORTED_MODULE_6__.CHAIN_DATA[chain_id]})));case 12:case"end":return _context4.stop()}}),_callee4)})));return function(_x3){return _ref4.apply(this,arguments)}}()),window.ethereum.on("disconnect",(function(data){return console.log("disconnect",data),_redux_store__WEBPACK_IMPORTED_MODULE_9__.a.dispatch(_actions__WEBPACK_IMPORTED_MODULE_8__.WalletDisconnected())})),window.ethereum.on("message",(function(data){console.log("message",data)}))}function SendTransaction(_x4){return _SendTransaction.apply(this,arguments)}function _SendTransaction(){return _SendTransaction=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee7(tx){return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.abrupt("return",new Promise(function(){var _ref5=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee6(resolve,reject){var xdc3,gasLimit,reason;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.t0=xdc3__WEBPACK_IMPORTED_MODULE_3___default.a,_context6.next=3,GetProvider();case 3:return _context6.t1=_context6.sent,xdc3=new _context6.t0(_context6.t1),_context6.prev=5,_context6.next=8,xdc3.eth.estimateGas(tx);case 8:gasLimit=_context6.sent,_context6.next=18;break;case 11:return _context6.prev=11,_context6.t2=_context6.catch(5),_context6.next=15,Object(_helpers_crypto__WEBPACK_IMPORTED_MODULE_7__.d)(tx);case 15:return reason=_context6.sent,reject({message:reason}),_context6.abrupt("return");case 18:tx.gas=gasLimit,xdc3.eth.sendTransaction(tx).once("receipt",(function(receipt){null!==receipt&&(receipt.status?resolve(receipt):xdc3.eth.getTransaction(receipt.transactionHash).then((function(tx){tx=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},tx),xdc3.eth.call(tx).then((function(x){var other=x.replace("0x","").slice(8),buf=Buffer.from(other,"hex");reject({message:buf.toString()})})).catch((function(){return reject({message:"Transaction Failed"})}))})))}));case 20:case"end":return _context6.stop()}}),_callee6,null,[[5,11]])})));return function(_x6,_x7){return _ref5.apply(this,arguments)}}()));case 1:case"end":return _context7.stop()}}),_callee7)}))),_SendTransaction.apply(this,arguments)}function CallTransaction(_x5){return _CallTransaction.apply(this,arguments)}function _CallTransaction(){return _CallTransaction=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee9(tx){var _arguments=arguments;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",new Promise((function(resolve,reject){GetProvider().then(function(){var _ref6=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee8(provider){var xdc3,gasLimit,reason;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return xdc3=new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a(provider),_context8.prev=1,_context8.next=4,xdc3.eth.estimateGas(tx);case 4:gasLimit=_context8.sent,_context8.next=14;break;case 7:return _context8.prev=7,_context8.t0=_context8.catch(1),_context8.next=11,Object(_helpers_crypto__WEBPACK_IMPORTED_MODULE_7__.d)(tx);case 11:return reason=_context8.sent,reject({message:reason}),_context8.abrupt("return");case 14:tx.gas=gasLimit,xdc3.eth.call(tx).then((function(date){resolve(date)})).catch((function(e){return reject(e)}));case 16:case"end":return _context8.stop()}}),_callee8,null,[[1,7]])})));return function(_x8){return _ref6.apply(this,arguments)}}()).catch((function(e){console.log(_arguments,e),console.log("resp",Object(_helpers_crypto__WEBPACK_IMPORTED_MODULE_7__.e)(e)),console.log("resp",e),reject(e)}))})));case 1:case"end":return _context9.stop()}}),_callee9)}))),_CallTransaction.apply(this,arguments)}}.call(this,__webpack_require__(10).Buffer)},40:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LOADERS",(function(){return LOADERS})),__webpack_require__.d(__webpack_exports__,"VALID_CHAINS",(function(){return VALID_CHAINS})),__webpack_require__.d(__webpack_exports__,"NETWORK_NAME",(function(){return NETWORK_NAME})),__webpack_require__.d(__webpack_exports__,"CHAIN_DATA",(function(){return CHAIN_DATA})),__webpack_require__.d(__webpack_exports__,"HTTP_PROVIDER",(function(){return HTTP_PROVIDER})),__webpack_require__.d(__webpack_exports__,"DEFAULT_CHAIN_ID",(function(){return DEFAULT_CHAIN_ID})),__webpack_require__.d(__webpack_exports__,"DEFAULT_PROVIDER",(function(){return DEFAULT_PROVIDER})),__webpack_require__.d(__webpack_exports__,"EXPLORER",(function(){return EXPLORER}));var LOADERS={Xinpay:"xinpay",Keystore:"keystore",Privatekey:"privatekey",MetaMask:"metamask",DcentInApp:"dcent-inapp"},VALID_CHAINS=[50,51,551],NETWORK_NAME={50:"XinFin",51:"Apothem",551:"XDC Devnet"},CHAIN_DATA={"0x32":"https://explorer.xinfin.network","0x33":"https://explorer.apothem.network","0x227":"https://devnetscan.apothem.network",50:"https://explorer.xinfin.network",51:"https://explorer.apothem.network",551:"https://devnetscan.apothem.network"},HTTP_PROVIDER={50:"https://rpc.xinfin.network",51:"https://rpc.apothem.network",551:"https://devnetrpc.apothem.network"},DEFAULT_CHAIN_ID=50,DEFAULT_PROVIDER=HTTP_PROVIDER[VALID_CHAINS[0]],EXPLORER=CHAIN_DATA[DEFAULT_CHAIN_ID]},41:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread2=__webpack_require__(33),redux=__webpack_require__(309),es=__webpack_require__(675),redux_logger=__webpack_require__(674),redux_logger_default=__webpack_require__.n(redux_logger),objectWithoutProperties=__webpack_require__(200),types=__webpack_require__(52),constant=__webpack_require__(40),IsHex=function IsHex(n){return!!/[0-9A-Fa-f]{6}/g.test(n)},_excluded=["address","chain_id","loader"],initialState={connected:!1,address:"",chain_id:null,valid_network:!1,explorer:"",rpc_provider:"",ws_provider:"",loader:"",account:null,showModal:!1},Wallet=function WalletReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,payload=arguments.length>1?arguments[1]:void 0;switch(payload.type){case types.j:var _payload$payload=payload.payload,address=_payload$payload.address,chain_id=_payload$payload.chain_id,loader=_payload$payload.loader,rst=Object(objectWithoutProperties.a)(_payload$payload,_excluded),valid_network=!1;return String(chain_id).startsWith("0x")&&IsHex(chain_id)&&(chain_id=parseInt(chain_id,16)),constant.VALID_CHAINS.includes(chain_id)&&(valid_network=!0),Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{connected:!0,address:address,chain_id:chain_id,loader:loader,valid_network:valid_network},rst);case types.f:return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{rpc_provider:payload.payload});case types.g:return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{ws_provider:payload.payload});case types.k:return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{connected:!1});case types.b:return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{showModal:!0});case types.a:return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{showModal:!1});case types.h:var _address=payload.payload.address;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{address:_address});case types.i:var _chain_id=payload.payload.chain_id;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{chain_id:_chain_id});case types.d:return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{valid_network:!0});case types.c:return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{valid_network:!1});default:return state}},reducers={wallet:Wallet},lodash=__webpack_require__(113),lodash_default=__webpack_require__.n(lodash),actions=__webpack_require__(48),middlewares=Object(redux.a)(es.a,redux_logger_default.a,(function NetworkValidation(store){return function(next){return function(action){if(next(action),[types.j,types.i,types.h].includes(action.type)){var address=action.payload.address;if(lodash_default.a.isUndefined(address))store.dispatch(actions.WalletDisconnected());else{var chain_id=action.payload.chain_id;lodash_default.a.isUndefined(chain_id)||(String(chain_id).startsWith("0x")&&IsHex(chain_id)&&(chain_id=parseInt(chain_id,16)),constant.VALID_CHAINS.includes(chain_id)?store.dispatch(actions.NetworkValid()):store.dispatch(actions.NetworkInValid()))}}}}})),store_store=function configureStore(){return Object(redux.c)(Object(redux.b)(Object(objectSpread2.a)({},reducers)),{},middlewares)}();__webpack_exports__.a=store_store},421:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(Buffer){__webpack_require__.d(__webpack_exports__,"SendTransaction",(function(){return SendTransaction})),__webpack_require__.d(__webpack_exports__,"CallTransaction",(function(){return CallTransaction}));var _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(33),_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(49),xdc3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57),xdc3__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(xdc3__WEBPACK_IMPORTED_MODULE_3__),lodash__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(113),lodash__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__),_redux_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(41),_helpers_crypto__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(67),_helpers_constant__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(40);function SendTransaction(_x){return _SendTransaction.apply(this,arguments)}function _SendTransaction(){return _SendTransaction=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee2(tx){return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",new Promise(function(){var _ref=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(resolve,reject){var data,_data$wallet,account,rpc_provider,privateKey,provider,xdc3,gasLimit,reason,signed;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return data=_redux_store__WEBPACK_IMPORTED_MODULE_5__.a.getState(),_data$wallet=data.wallet,account=_data$wallet.account,rpc_provider=_data$wallet.rpc_provider,account||reject("Account not loaded"),privateKey=account.privateKey,lodash__WEBPACK_IMPORTED_MODULE_4___default.a.isEmpty(privateKey)&&reject("Account not loaded"),provider=_helpers_constant__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_PROVIDER,rpc_provider&&(provider=rpc_provider),xdc3=new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a(new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a.providers.HttpProvider(provider)),_context.prev=8,_context.next=11,xdc3.eth.estimateGas(tx);case 11:gasLimit=_context.sent,_context.next=21;break;case 14:return _context.prev=14,_context.t0=_context.catch(8),_context.next=18,Object(_helpers_crypto__WEBPACK_IMPORTED_MODULE_6__.d)(tx);case 18:return reason=_context.sent,reject({message:reason}),_context.abrupt("return");case 21:return tx.gas=gasLimit,_context.next=24,xdc3.eth.accounts.signTransaction(tx,privateKey);case 24:signed=_context.sent,xdc3.eth.sendSignedTransaction(signed.rawTransaction).once("receipt",(function(receipt){null!==receipt&&(receipt.status?resolve(receipt):xdc3.eth.getTransaction(receipt.transactionHash).then((function(tx){tx=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},tx),xdc3.eth.call(tx).then((function(x){var other=x.replace("0x","").slice(8),buf=Buffer.from(other,"hex");reject({message:buf.toString()})})).catch((function(){return reject({message:"Transaction Failed"})}))})))}));case 26:case"end":return _context.stop()}}),_callee,null,[[8,14]])})));return function(_x3,_x4){return _ref.apply(this,arguments)}}()));case 1:case"end":return _context2.stop()}}),_callee2)}))),_SendTransaction.apply(this,arguments)}function CallTransaction(_x2){return _CallTransaction.apply(this,arguments)}function _CallTransaction(){return _CallTransaction=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee4(tx){return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",new Promise(function(){var _ref2=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee3(resolve,reject){var data,_data$wallet2,account,rpc_provider,privateKey,provider,xdc3,gasLimit,reason;return _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return data=_redux_store__WEBPACK_IMPORTED_MODULE_5__.a.getState(),_data$wallet2=data.wallet,account=_data$wallet2.account,rpc_provider=_data$wallet2.rpc_provider,account||reject("Account not loaded"),privateKey=account.privateKey,lodash__WEBPACK_IMPORTED_MODULE_4___default.a.isEmpty(privateKey)&&reject("Account not loaded"),provider=_helpers_constant__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_PROVIDER,rpc_provider&&(provider=rpc_provider),xdc3=new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a(new xdc3__WEBPACK_IMPORTED_MODULE_3___default.a.providers.HttpProvider(provider)),_context3.prev=8,_context3.next=11,xdc3.eth.estimateGas(tx);case 11:gasLimit=_context3.sent,_context3.next=21;break;case 14:return _context3.prev=14,_context3.t0=_context3.catch(8),_context3.next=18,Object(_helpers_crypto__WEBPACK_IMPORTED_MODULE_6__.d)(tx);case 18:return reason=_context3.sent,reject({message:reason}),_context3.abrupt("return");case 21:tx.gas=gasLimit,xdc3.eth.call(tx).then((function(date){resolve(date)})).catch((function(e){return reject(e)}));case 23:case"end":return _context3.stop()}}),_callee3,null,[[8,14]])})));return function(_x5,_x6){return _ref2.apply(this,arguments)}}()));case 1:case"end":return _context4.stop()}}),_callee4)}))),_CallTransaction.apply(this,arguments)}}.call(this,__webpack_require__(10).Buffer)},48:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WalletConnected",(function(){return WalletConnected})),__webpack_require__.d(__webpack_exports__,"WalletOpened",(function(){return WalletOpened})),__webpack_require__.d(__webpack_exports__,"NetworkChanged",(function(){return NetworkChanged})),__webpack_require__.d(__webpack_exports__,"AccountChanged",(function(){return AccountChanged})),__webpack_require__.d(__webpack_exports__,"WalletDisconnected",(function(){return WalletDisconnected})),__webpack_require__.d(__webpack_exports__,"NetworkValid",(function(){return NetworkValid})),__webpack_require__.d(__webpack_exports__,"SetChainData",(function(){return SetChainData})),__webpack_require__.d(__webpack_exports__,"NetworkInValid",(function(){return NetworkInValid})),__webpack_require__.d(__webpack_exports__,"SetRpcProvider",(function(){return SetRpcProvider})),__webpack_require__.d(__webpack_exports__,"SetWsProvider",(function(){return SetWsProvider})),__webpack_require__.d(__webpack_exports__,"ForceShowModal",(function(){return ForceShowModal})),__webpack_require__.d(__webpack_exports__,"ForceCloseModal",(function(){return ForceCloseModal}));var _Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(200),_helpers_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40),_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(52),_excluded=["address","chain_id","loader"],WalletConnected=function WalletConnected(_ref){var address=_ref.address,chain_id=_ref.chain_id,loader=_ref.loader,rst=Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,_excluded);return{type:_types__WEBPACK_IMPORTED_MODULE_3__.j,payload:Object(_Users_rudresh_Desktop_workspace_xdc_connect_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({address:address,chain_id:chain_id,loader:loader},rst)}},WalletOpened=function WalletOpened(){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.l}},NetworkChanged=function NetworkChanged(chain_id){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.i,payload:{chain_id:chain_id}}},AccountChanged=function AccountChanged(address){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.h,payload:{address:address}}},WalletDisconnected=function WalletDisconnected(){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.k}},NetworkValid=function NetworkValid(){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.d}},SetChainData=function SetChainData(chain_id){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.e,payload:_helpers_constant__WEBPACK_IMPORTED_MODULE_2__.CHAIN_DATA["".concat(chain_id)]}},NetworkInValid=function NetworkInValid(){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.c}},SetRpcProvider=function SetRpcProvider(rpc_provider){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.f,payload:rpc_provider}},SetWsProvider=function SetWsProvider(ws_provider){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.g,payload:ws_provider}},ForceShowModal=function ForceShowModal(){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.b}},ForceCloseModal=function ForceCloseModal(){return{type:_types__WEBPACK_IMPORTED_MODULE_3__.a}}},52:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"j",(function(){return WALLET_CONNECTED})),__webpack_require__.d(__webpack_exports__,"k",(function(){return WALLET_DISCONNECTED})),__webpack_require__.d(__webpack_exports__,"h",(function(){return WALLET_ADDRESS_CHANGED})),__webpack_require__.d(__webpack_exports__,"i",(function(){return WALLET_CHAIN_CHANGED})),__webpack_require__.d(__webpack_exports__,"l",(function(){return WALLET_OPENED})),__webpack_require__.d(__webpack_exports__,"d",(function(){return NETWORK_VALID})),__webpack_require__.d(__webpack_exports__,"c",(function(){return NETWORK_INVALID})),__webpack_require__.d(__webpack_exports__,"e",(function(){return SET_CHAIN_DATA})),__webpack_require__.d(__webpack_exports__,"f",(function(){return SET_RPC_PROVIDER})),__webpack_require__.d(__webpack_exports__,"g",(function(){return SET_WS_PROVIDER})),__webpack_require__.d(__webpack_exports__,"b",(function(){return FORCE_SHOW_MODAL})),__webpack_require__.d(__webpack_exports__,"a",(function(){return FORCE_CLOSE_MDOAL}));var WALLET_CONNECTED="WALLET_CONNECTED",WALLET_DISCONNECTED="WALLET_DISCONNECTED",WALLET_ADDRESS_CHANGED="WALLET_ADDRESS_CHANGED",WALLET_CHAIN_CHANGED="WALLET_CHAIN_CHANGED",WALLET_OPENED="WALLET_OPENED",NETWORK_VALID="NETWORK_VALID",NETWORK_INVALID="NETWORK_INVALID",SET_CHAIN_DATA="SET_CHAIN_DATA",SET_RPC_PROVIDER="SET_RPC_PROVIDER",SET_WS_PROVIDER="SET_WS_PROVIDER",FORCE_SHOW_MODAL="FORCE_SHOW_MODAL",FORCE_CLOSE_MDOAL="FORCE_CLOSE_MODAL"},67:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Buffer){__webpack_require__.d(__webpack_exports__,"f",(function(){return VerifyPrivateKey})),__webpack_require__.d(__webpack_exports__,"c",(function(){return GetAccountFromPK})),__webpack_require__.d(__webpack_exports__,"b",(function(){return GetAccountFromKeystore})),__webpack_require__.d(__webpack_exports__,"d",(function(){return GetRevertReason})),__webpack_require__.d(__webpack_exports__,"a",(function(){return BUILD_TX_LINK})),__webpack_require__.d(__webpack_exports__,"e",(function(){return IsJsonRpcError}));__webpack_require__(682),__webpack_require__(200);var _redux_store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(41),Xdc3=__webpack_require__(57),Accounts=__webpack_require__(584),utils=Xdc3.utils,_require=__webpack_require__(40),DEFAULT_PROVIDER=(_require.TransferType,_require.DEFAULT_PROVIDER),VerifyPrivateKey=function VerifyPrivateKey(privateKey){return privateKey.startsWith("0x")&&(privateKey=privateKey.replace("0x","")),/^[0-9a-fA-F]{64}$/.test(privateKey)},GetAccountFromPK=function GetAccountFromPK(privateKey){try{return privateKey.startsWith("0x")||(privateKey="0x"+privateKey),(new Accounts).privateKeyToAccount(privateKey)}catch(e){return null}},GetAccountFromKeystore=function GetAccountFromKeystore(keystore,pwd){try{return"string"!=typeof keystore&&(keystore=keystore.toString()),(new Accounts).decrypt(keystore,pwd)}catch(e){return console.log(e),null}},GetRevertReason=function GetRevertReason(tx){return new Promise((function(resolve,reject){var rpc_provider=_redux_store__WEBPACK_IMPORTED_MODULE_2__.a.getState().wallet.rpc_provider,provider=DEFAULT_PROVIDER;rpc_provider&&(provider=rpc_provider),new Xdc3(new Xdc3.providers.HttpProvider(provider)).eth.call(tx).then((function(x){console.log("x",x,utils.toAscii(x));var other=x.replace("0x","").slice(8),reason=Buffer.from(other,"hex").toString().split("").filter((function(x){return/^[a-zA-Z\d\s:]+$/i.test(x)})).join("");console.log(reason),resolve(reason)})).catch(reject)}))},BUILD_TX_LINK=function BUILD_TX_LINK(explorer,hash){var retLink="".concat(explorer);return retLink.endsWith("/")||(retLink+="/"),retLink+="tx/".concat(hash)},IsJsonRpcError=function IsJsonRpcError(err){return err.message&&"Internal JSON-RPC error."===err.message.split("\n")[0]}}).call(this,__webpack_require__(10).Buffer)},678:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return WithTimeout}));var WithTimeout=function WithTimeout(cb){var timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return new Promise((function(resolve,reject){var int=setTimeout((function(){reject("timeout")}),timeout);cb().then((function(resp){clearTimeout(int),resolve(resp)})).catch(reject)}))};Object.defineProperty(Object.prototype,"partialMatch",{value:function value(fields){for(var _i=0,_Object$keys=Object.keys(fields);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];if(Object.keys(this).includes(key)){if(this[key]===fields[key])continue;return!1}return!1}return!0}}),Object.defineProperty(Array.prototype,"includesPartial",{value:function value(fields){for(var i=0;i<this.length;i++){var obj=this[i];if(console.log("objobj",obj),obj.partialMatch(fields))return i}return null}})},706:function(module,exports,__webpack_require__){__webpack_require__(707),__webpack_require__(863),__webpack_require__(864),__webpack_require__(1334),__webpack_require__(1330),__webpack_require__(1337),__webpack_require__(1338),__webpack_require__(1336),__webpack_require__(1331),__webpack_require__(1339),__webpack_require__(1332),__webpack_require__(1333),__webpack_require__(1340),module.exports=__webpack_require__(1061)},773:function(module,exports){},864:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(467)},90:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return components_XdcConnect})),__webpack_require__.d(__webpack_exports__,"b",(function(){return components_GetWallet})),__webpack_require__.d(__webpack_exports__,"a",(function(){return components_Disconnect}));var objectSpread2=__webpack_require__(33),react=__webpack_require__(0),react_default=__webpack_require__.n(react),es=__webpack_require__(306),react_toastify_esm=__webpack_require__(72),classCallCheck=__webpack_require__(672),createClass=__webpack_require__(673),inherits=__webpack_require__(684),createSuper=__webpack_require__(681),Button=__webpack_require__(1353),Modal=__webpack_require__(1352),slicedToArray=__webpack_require__(103),helpers_crypto=__webpack_require__(67),jsx_runtime=__webpack_require__(3),Keystore_ImportFromFilerBodyComponent=function ImportFromFilerBodyComponent(_ref){var fileReader,cb=_ref.cb,defaultPath=_ref.defaultPath;Object(react.useEffect)((function(){defaultPath&&handleFileChosen(defaultPath)}));var handleFileRead=function handleFileRead(){var content=fileReader.result;cb(content)},handleFileChosen=function handleFileChosen(file){(fileReader=new FileReader).onloadend=handleFileRead,fileReader.readAsText(file)};return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)("input",{className:"form-file-input form-control",type:"file",id:"input-file",accept:".json",onChange:function onChange(e){return handleFileChosen(e.target.files[0])}})})},Keystore_Keystore=function Keystore(_ref2){var cb=_ref2.cb,back=_ref2.back,_useState=Object(react.useState)(""),_useState2=Object(slicedToArray.a)(_useState,2),keystore=_useState2[0],setKeystore=_useState2[1],_useState3=Object(react.useState)(""),_useState4=Object(slicedToArray.a)(_useState3,2),pwd=_useState4[0],setPwd=_useState4[1],_useState5=Object(react.useState)(""),_useState6=Object(slicedToArray.a)(_useState5,2),statusMessage=_useState6[0],setStatusMessage=_useState6[1];return Object(jsx_runtime.jsxs)("div",{className:"modal-content",children:[Object(jsx_runtime.jsx)("div",{className:"modal-header border-bottom-0",children:Object(jsx_runtime.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Connect with Key Store"})}),Object(jsx_runtime.jsx)("div",{className:"modal-body",children:Object(jsx_runtime.jsxs)("form",{className:"",children:[Object(jsx_runtime.jsx)("div",{className:"form-group",children:Object(jsx_runtime.jsx)(Keystore_ImportFromFilerBodyComponent,{cb:setKeystore})}),Object(jsx_runtime.jsx)("div",{className:"",children:statusMessage}),Object(jsx_runtime.jsxs)("div",{className:"form-group",children:[Object(jsx_runtime.jsx)("label",{children:"Password"}),Object(jsx_runtime.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter Password",value:pwd,onChange:function onChange(x){return setPwd(x.target.value)}})]}),Object(jsx_runtime.jsx)("button",{className:"btn btn-rounded btn-info mb-2",onClick:function onClick(e){e.preventDefault();var account=Object(helpers_crypto.b)(keystore,pwd);setStatusMessage(null===account?"Invalid Password / Keystore":"Successfully got the account"),cb(account)},children:"Submit"}),Object(jsx_runtime.jsx)("div",{})]})}),Object(jsx_runtime.jsx)("div",{className:"modal-footer border-top-0 d-flex justify-content-center",children:Object(jsx_runtime.jsx)("button",{onClick:back,type:"button",className:"back","data-dismiss":"modal",children:"Back"})})]})};Keystore_Keystore.__docgenInfo={description:"",methods:[],displayName:"Keystore"};var wallet_connect_Keystore=Keystore_Keystore;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/wallet-connect/Keystore.js"]={name:"Keystore",docgenInfo:Keystore_Keystore.__docgenInfo,path:"src/components/wallet-connect/Keystore.js"});var lodash=__webpack_require__(113),lodash_default=__webpack_require__.n(lodash),LOADER_BOX=Object(jsx_runtime.jsx)("div",{className:"box",children:Object(jsx_runtime.jsx)("div",{className:"loader-box"})}),PrivateKey_PrivateKey=function PrivateKey(_ref){var cb=_ref.cb,loading=_ref.loading,back=_ref.back,_useState=Object(react.useState)(""),_useState2=Object(slicedToArray.a)(_useState,2),privateKey=_useState2[0],setPrivateKey=_useState2[1];var btnName="Submit";return loading&&(btnName=LOADER_BOX),Object(jsx_runtime.jsxs)("div",{className:"modal-content",children:[Object(jsx_runtime.jsx)("div",{className:"modal-header border-bottom-0",children:Object(jsx_runtime.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Connect with Private Key"})}),Object(jsx_runtime.jsx)("div",{className:"modal-body",children:Object(jsx_runtime.jsxs)("form",{className:"",children:[Object(jsx_runtime.jsxs)("div",{className:"form-group",children:[Object(jsx_runtime.jsx)("label",{children:"Enter Private Key"}),Object(jsx_runtime.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter Private Key",value:privateKey,onChange:function onChange(x){return setPrivateKey(x.target.value)}})]}),Object(jsx_runtime.jsx)("div",{className:"private-key__message",children:function renderMessage(){if(lodash_default.a.isEmpty(privateKey))return Object(jsx_runtime.jsx)("div",{className:"no-key",children:" "});var isValid=Object(helpers_crypto.f)(privateKey);return isValid?Object(jsx_runtime.jsx)("div",{className:"valid-private-key",children:"Private Key is valid"}):!1===isValid?Object(jsx_runtime.jsx)("div",{className:"invalid-private-key",children:"Invalid Private Key"}):void 0}()}),Object(jsx_runtime.jsx)("button",{onClick:function onClick(e){e.preventDefault();var account=Object(helpers_crypto.c)(privateKey);cb(account)},disabled:loading,className:"btn btn-rounded btn-info mb-2",children:btnName}),Object(jsx_runtime.jsx)("div",{})]})}),Object(jsx_runtime.jsx)("div",{className:"modal-footer border-top-0 d-flex justify-content-center",children:Object(jsx_runtime.jsx)("button",{onClick:back,type:"button",className:"back","data-dismiss":"modal",children:"Back"})})]})};PrivateKey_PrivateKey.__docgenInfo={description:"",methods:[],displayName:"PrivateKey"};var wallet_connect_PrivateKey=PrivateKey_PrivateKey;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/wallet-connect/PrivateKey.js"]={name:"PrivateKey",docgenInfo:PrivateKey_PrivateKey.__docgenInfo,path:"src/components/wallet-connect/PrivateKey.js"});var xinpay=__webpack_require__(241),dcentInAppBrowser=__webpack_require__(305),xinpay_logo=__webpack_require__.p+"static/media/xinpay-logo.89b1287c.png",privatekey_logo=__webpack_require__.p+"static/media/privatekey-logo.0b3bc829.png",keystore_logo=__webpack_require__.p+"static/media/keystore-logo.9f7aa6a2.png",dcent_logo=__webpack_require__.p+"static/media/dcent-logo.7df30b03.png",constant=__webpack_require__(40),actions=__webpack_require__(48),Provider_menu="menu",Provider_keystore="keystore",Provider_privateKey="privatekey",walletConnect_WalletConnect=function(_React$Component){Object(inherits.a)(WalletConnect,_React$Component);var _super=Object(createSuper.a)(WalletConnect);function WalletConnect(props){var _this;return Object(classCallCheck.a)(this,WalletConnect),(_this=_super.call(this,props)).accountCallback=function(loader){return function(account){null===account?Object(react_toastify_esm.b)("error while loading wallet",{autoClose:2e3,type:"error"}):(_this.props.WalletConnected({account:account,chain_id:_this.defaultChainId,address:account.address,loader:loader,explorer:constant.CHAIN_DATA[_this.defaultChainId]}),_this.setState({providerSelected:Provider_menu}),_this.props.ForceCloseModal())}},_this.state={providerSelected:Provider_menu},_this.defaultChainId=_this.props.defaultChainId&&constant.VALID_CHAINS.includes(_this.props.defaultChainId)?_this.props.defaultChainId:constant.DEFAULT_CHAIN_ID,_this.enabledProviders=_this.props.enabledProviders||Object.keys(constant.LOADERS).map((function(x){return constant.LOADERS[x]})),_this.props.rpcProvider&&_this.props.SetRpcProvider(_this.props.rpcProvider),_this.props.wsProvider&&_this.props.SetWsProvider(_this.props.wsProvider),_this}return Object(createClass.a)(WalletConnect,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){prevProps.wallet.connected!==this.props.wallet.connected&&this.props.wallet.connected&&(this.props.ForceCloseModal(),this.props.onConnect&&this.props.onConnect(this.props.wallet)),prevProps.wallet.connected===this.props.wallet.connected&&this.props.wallet.connected&&prevProps.wallet.chain_id!==this.props.wallet.chain_id&&this.props.onNetworkChange&&this.props.onNetworkChange(this.props.wallet),!0===prevProps.wallet.connected&&!1===this.props.wallet.connected&&this.props.onDisconnect&&this.props.onDisconnect(this.props.wallet),prevProps.wallet.address!==this.props.wallet.address&&this.props.wallet.address&&this.props.onAddressChange&&this.props.onAddressChange(this.props.wallet)}},{key:"RenderWalletProvider",value:function RenderWalletProvider(){var _this2=this,displayType=this.props.displayType||"grid";return this.state.providerSelected===Provider_menu?Object(jsx_runtime.jsxs)("div",{className:"modal-content",children:[Object(jsx_runtime.jsxs)("div",{className:"modal-header border-bottom-0",children:[Object(jsx_runtime.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Connect to a wallet"}),Object(jsx_runtime.jsx)("button",{type:"button",className:"close",onClick:function onClick(){return _this2.props.ForceCloseModal()},children:Object(jsx_runtime.jsx)("span",{"aria-hidden":"true",children:"×"})})]}),Object(jsx_runtime.jsx)("div",{className:"modal-body",children:Object(jsx_runtime.jsxs)("div",{className:"wallet-connect-block ".concat(displayType),children:[this.enabledProviders.includes(constant.LOADERS.Xinpay)?Object(jsx_runtime.jsxs)("button",{onClick:xinpay.initXdc3,className:"wallect-connect-btn",children:[Object(jsx_runtime.jsx)("div",{className:"wallet-name",children:Object(jsx_runtime.jsx)("h4",{children:"XDCPay"})}),Object(jsx_runtime.jsx)("div",{className:"wallet-icon",children:Object(jsx_runtime.jsx)("img",{src:xinpay_logo,alt:"Icon"})})]}):"",this.enabledProviders.includes(constant.LOADERS.Privatekey)?Object(jsx_runtime.jsxs)("button",{className:"wallect-connect-btn",onClick:function onClick(){return _this2.setState({providerSelected:Provider_privateKey})},children:[Object(jsx_runtime.jsx)("div",{className:"wallet-name",children:Object(jsx_runtime.jsx)("h4",{children:"Private Key"})}),Object(jsx_runtime.jsx)("div",{className:"wallet-icon",children:Object(jsx_runtime.jsx)("img",{src:privatekey_logo,alt:"Icon"})})]}):"",this.enabledProviders.includes(constant.LOADERS.Keystore)?Object(jsx_runtime.jsxs)("button",{className:"wallect-connect-btn",onClick:function onClick(){return _this2.setState({providerSelected:Provider_keystore})},children:[Object(jsx_runtime.jsx)("div",{className:"wallet-name",children:Object(jsx_runtime.jsx)("h4",{children:"Key Store"})}),Object(jsx_runtime.jsx)("div",{className:"wallet-icon",children:Object(jsx_runtime.jsx)("img",{src:keystore_logo,alt:"Icon"})})]}):"",this.enabledProviders.includes(constant.LOADERS.DcentInApp)?Object(jsx_runtime.jsxs)("button",{className:"wallect-connect-btn",onClick:dcentInAppBrowser.initDcent,children:[Object(jsx_runtime.jsx)("div",{className:"wallet-name",children:Object(jsx_runtime.jsx)("h4",{children:"D'CENT"})}),Object(jsx_runtime.jsx)("div",{className:"wallet-icon",children:Object(jsx_runtime.jsx)("img",{src:dcent_logo,alt:"Icon"})})]}):""]})})]}):this.state.providerSelected===Provider_keystore?Object(jsx_runtime.jsx)(wallet_connect_Keystore,{back:function back(){return _this2.setState({providerSelected:Provider_menu})},cb:this.accountCallback(Provider_keystore)}):this.state.providerSelected===Provider_privateKey?Object(jsx_runtime.jsx)(wallet_connect_PrivateKey,{back:function back(){return _this2.setState({providerSelected:Provider_menu})},cb:this.accountCallback(Provider_privateKey)}):void 0}},{key:"render",value:function render(){var _this3=this,BTN_MSG=this.props.btnName||"CONNECT",BTN_CLASS=this.props.btnClass||"btn btn-rounded btn-info",disabled=this.props.disabled||!1,parentClass="xdc-connect";"dark"===this.props.theme&&(parentClass+=" darkTheme");var btn=!1===this.props.showButton?"":Object(jsx_runtime.jsx)(Button.a,{className:BTN_CLASS,onClick:function onClick(){return _this3.props.ForceShowModal()},disabled:disabled,children:BTN_MSG});return Object(jsx_runtime.jsxs)("div",{className:parentClass,children:[btn,Object(jsx_runtime.jsx)(Modal.a,{backdrop:this.props.modalBackdrop,className:parentClass,centered:!0,show:this.props.wallet.showModal,onHide:function onHide(){return _this3.props.ForceCloseModal()},children:this.RenderWalletProvider()})]})}}]),WalletConnect}(react_default.a.Component);walletConnect_WalletConnect.__docgenInfo={description:"",methods:[{name:"accountCallback",docblock:null,modifiers:[],params:[{name:"loader",type:null}],returns:null},{name:"RenderWalletProvider",docblock:null,modifiers:[],params:[],returns:null}],displayName:"WalletConnect"};var walletConnect=Object(es.b)((function mapStateToProps(_ref){return{wallet:_ref.wallet}}),actions)(walletConnect_WalletConnect);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/wallet-connect/walletConnect.js"]={name:"WalletConnect",docgenInfo:walletConnect_WalletConnect.__docgenInfo,path:"src/components/wallet-connect/walletConnect.js"});var store=__webpack_require__(41);__webpack_require__(57),__webpack_require__(421);__webpack_require__(1326),__webpack_require__(1327);var components_XdcConnect=function XdcConnect(props){var toastContainer=props.addToastContainer?props.toastContainer?props.toastContainer:Object(jsx_runtime.jsx)(react_toastify_esm.a,{className:"xdc-connect"}):"";return Object(jsx_runtime.jsxs)(es.a,{store:store.a,children:[toastContainer,Object(jsx_runtime.jsx)(walletConnect,Object(objectSpread2.a)({},props))]})};components_XdcConnect.defaultProps={btnName:"CONNECT",btnClass:"btn btn-rounded btn-info",disabled:!1,theme:"light"};var components_GetWallet=function GetWallet(){return store.a.getState()},components_Disconnect=function Disconnect(){store.a.dispatch(actions.WalletDisconnected())};components_XdcConnect.__docgenInfo={description:"",methods:[],displayName:"XdcConnect",props:{btnName:{defaultValue:{value:'"CONNECT"',computed:!1},type:{name:"string"},required:!1,description:""},btnClass:{defaultValue:{value:'"btn btn-rounded btn-info"',computed:!1},type:{name:"string"},required:!1,description:""},disabled:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},theme:{defaultValue:{value:'"light"',computed:!1},type:{name:"enum",value:[{value:'"light"',computed:!1},{value:'"dark"',computed:!1}]},required:!1,description:""},onConnect:{type:{name:"func"},required:!1,description:""},onDisconnect:{type:{name:"func"},required:!1,description:""},onAddressChange:{type:{name:"func"},required:!1,description:""},onNetworkChange:{type:{name:"func"},required:!1,description:""},showButton:{type:{name:"bool"},required:!1,description:""},defaultChainId:{type:{name:"enum",value:[{value:"50",computed:!1},{value:"51",computed:!1},{value:"551",computed:!1}]},required:!1,description:""},enabledProviders:{type:{name:"arrayOf",value:{name:"string"}},required:!1,description:""},addToastContainer:{type:{name:"bool"},required:!1,description:""},rpcProvider:{type:{name:"string"},required:!1,description:""},wsProvider:{type:{name:"string"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/index.js"]={name:"XdcConnect",docgenInfo:components_XdcConnect.__docgenInfo,path:"src/components/index.js"})}},[[706,2,3]]]);